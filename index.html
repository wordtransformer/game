<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Transformations — Daily</title>
  <style>
    body { background:#0f1116; color:#eaf1f8; font-family:sans-serif; margin:0; display:grid; place-items:center; min-height:100vh; }
    .board { width:100%; max-width:600px; background:#151a24; padding:20px; border-radius:10px; display:grid; gap:10px; }
    h1 { margin:0; font-size:20px; text-align:center; }
    .word { font-size:26px; text-align:center; font-weight:bold; letter-spacing:2px; }
    input { width:100%; padding:10px; font-size:18px; border:2px solid orange; border-radius:8px; background:#0f1423; color:white; }
    button { padding:8px 12px; border-radius:6px; border:0; background:orange; color:black; cursor:pointer; font-weight:bold; }
    .pill { background:orange; color:black; font-weight:bold; padding:6px; border-radius:6px; text-align:center; }
    .chain { display:flex; flex-wrap:wrap; gap:5px; }
    .msg { min-height:20px; text-align:center; font-weight:bold; }
    .ok { color:#2ecc71; }
    .bad { color:#ff6b6b; }
  </style>
</head>
<body>
  <div class="board">
    <h1>Transformations — Daily</h1>
    <div>Current word:</div>
    <div id="currentWord" class="word">?????</div>
    <input id="guess" maxlength="5" placeholder="Enter next word">
    <button id="enterBtn">Enter</button>
    <div id="msg" class="msg"></div>
    <div>Chain:</div>
    <div id="chain" class="chain"></div>
    <div>Possible moves: <span id="remainN">0</span></div>
  </div>
<script>
const DICT = [
  "shove","stove","shore","store","stone","stony","short","shine","spine","swine",
  "grade","glade","blade","blame","flame","frame","thing","think","thank",
  "chair","chain","spice","spike","spore","spout","share","shave",
  "about","other","which","their","these","would","could","apple","amber","alone","alter",
  "grand","grant","grain","brain","train"
]; // fallback word list

function ham1(a,b){ if(a.length!==5||b.length!==5) return false; let d=0; for(let i=0;i<5;i++) if(a[i]!==b[i]) d++; return d===1; }
function neighborsOf(w){ return DICT.filter(v=>v!==w && ham1(w,v)); }

const start = DICT[Math.floor(Math.random()*DICT.length)];
let used = new Set([start]);
let chain = [start];

const ui = {
  current: document.getElementById('currentWord'),
  guess: document.getElementById('guess'),
  enter: document.getElementById('enterBtn'),
  msg: document.getElementById('msg'),
  chain: document.getElementById('chain'),
  remain: document.getElementById('remainN')
};

function setCurrent(w){
  ui.current.textContent = w.toUpperCase();
  const moves = neighborsOf(w).filter(v=>!used.has(v)).length;
  ui.remain.textContent = moves;
}
function addPill(w){
  const div=document.createElement('div'); div.className='pill'; div.textContent=w.toUpperCase(); ui.chain.appendChild(div);
}
function showMsg(text,ok=false){
  ui.msg.textContent=text; ui.msg.className="msg "+(ok?"ok":"bad");
  setTimeout(()=>{ui.msg.textContent=""; ui.msg.className="msg";},1200);
}
function play(word){
  const last=chain[chain.length-1];
  word=word.toLowerCase().trim();
  if(!/^[a-z]{5}$/.test(word)){showMsg("Type 5 letters");return;}
  if(!DICT.includes(word)){showMsg("Not in word list");return;}
  if(used.has(word)){showMsg("Already used");return;}
  if(!ham1(last,word)){showMsg("Change 1 letter");return;}
  chain.push(word); used.add(word); addPill(word); setCurrent(word); showMsg("ok",true); ui.guess.value="";
}
ui.enter.addEventListener('click',()=>play(ui.guess.value));
ui.guess.addEventListener('keydown',e=>{if(e.key==='Enter') play(ui.guess.value);});

setCurrent(start); addPill(start);
</script>
</body>
</html>
